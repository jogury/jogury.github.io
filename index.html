<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nested Cross-Origin Sandbox Iframes</title>
</head>
<body>
    <h1>Outer Iframe (Cross-Origin)</h1>
    <iframe srcdoc="
        <!DOCTYPE html>
        <html>
        <head>
            <title>Middle Iframe</title>
        </head>
        <body>
            <h2>Middle Iframe (Cross-Origin)</h2>
            <iframe srcdoc='<!DOCTYPE html><html><head><title>Final Iframe</title></head><body><p>Hello from Creative Tag</p>
            <script>window.top.postMessage(JSON.stringify({ogy_postmessage_channel: 'creative_tracking',
              data: {
                creativeId: 'creativeId loaded successfully',
              }
            }), '*');
            console.log('Creative Tag loaded successfully');
            setInterval(() => {
                window.top.postMessage(JSON.stringify({ogy_postmessage_channel: 'creative_tracking',
                    data: {
                    creativeId: 'creativeId interval successfully',
                    }
                }), '*');
                console.log('Creative Tag loaded interval message successfully');
            }, 10000);
            </script>
            </body></html>'
            sandbox='allow-scripts'>
            </iframe>
        </body>
        </html>" 
        sandbox="allow-scripts allow-same-origin" width="500" height="300">
    </iframe>
</body>
</html>